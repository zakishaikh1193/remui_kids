{{! Student Overview - professional, clean UI. Uses real Moodle data with mock fallbacks provided by PHP }}

{{> theme_remui_kids/common_start}}

<div class="student-overview-wrapper">
    <div class="overview-header">
        <div class="student-id-block">
            <img class="student-avatar" src="{{student.avatar_url}}" alt="{{student.fullname}}" onerror="this.src='{{config.wwwroot}}/theme/image.php/remui_kids/core/164/f1'">
            <div class="student-meta">
                <h1 class="student-name">{{student.fullname}}</h1>
                <div class="student-submeta">{{student.email}}</div>
            </div>
        </div>
        <a class="btn btn-outline" href="{{student.profile_url}}">View Moodle Profile</a>
    </div>

    <div class="overview-grid">
        <div class="card simple">
            <div class="card-title"><i class="fa fa-gauge"></i> Overall performance</div>
            <div class="card-body overall">
                <div class="overall-value">{{overall.percent}}%</div>
                <div class="overall-label">Course completion rate</div>
            </div>
        </div>
        <div class="card simple">
            <div class="card-title"><i class="fa fa-layer-group"></i> Total enrol courses</div>
            <div class="card-body stat"><span>{{overview_counts.total_courses}}</span></div>
        </div>
        <div class="card simple">
            <div class="card-title"><i class="fa fa-check-circle"></i> Course completed</div>
            <div class="card-body stat"><span>{{overview_counts.completed_courses}}</span></div>
        </div>
        <div class="card simple">
            <div class="card-title"><i class="fa fa-clock"></i> Hours spent</div>
            <div class="card-body stat"><span>{{overview_counts.hours_spent}}</span></div>
        </div>
        <div class="card simple">
            <div class="card-title"><i class="fa fa-users"></i> Live class attended</div>
            <div class="card-body stat"><span>{{engagement.live_classes_percent}}%</span></div>
        </div>
        <div class="card simple">
            <div class="card-title"><i class="fa fa-circle-question"></i> Quiz practised</div>
            <div class="card-body stat"><span>{{engagement.quiz_attempts}}</span></div>
        </div>
        <div class="card simple">
            <div class="card-title"><i class="fa fa-file-lines"></i> Assignment done</div>
            <div class="card-body stat"><span>{{engagement.assignments_done}}</span></div>
        </div>
    </div>

    <div class="layout-grid">
        <div class="left-column">
            <div class="card">
                <div class="card-title"><i class="fa fa-calendar"></i> Upcoming classes</div>
                <div class="list">
                    {{#upcoming_classes}}
                    <div class="list-item">
                        <div class="li-main">
                            <div class="li-title">{{title}}</div>
                            <div class="li-sub">{{course}}</div>
                        </div>
                        <div class="li-meta">{{date_label}}</div>
                        <a class="btn btn-primary" href="{{url}}">Join</a>
                    </div>
                    {{/upcoming_classes}}
                    {{^upcoming_classes}}
                    <div class="empty">No upcoming classes</div>
                    {{/upcoming_classes}}
                </div>
            </div>

            <div class="card">
                <div class="card-title"><i class="fa fa-list-check"></i> Total courses</div>
                <div class="table">
                    <div class="thead">
                        <div>Course name</div><div>Progress</div><div>Overall score</div><div>Status</div>
                    </div>
                    {{#courses}}
                    <div class="trow">
                        <div class="tcol name"><a href="{{url}}">{{name}}</a></div>
                        <div class="tcol progress">
                            <div class="bar"><span style="width: {{progress}}%;"></span></div>
                        </div>
                        <div class="tcol score">{{overall_score}}%</div>
                        <div class="tcol status"><span class="badge {{status_class}}">{{status_label}}</span></div>
                    </div>
                    {{/courses}}
                    {{^courses}}
                    <div class="empty">No courses</div>
                    {{/courses}}
                </div>
            </div>
        </div>
        <div class="right-column">
            <div class="card">
                <div class="card-title"><i class="fa fa-fire"></i> 5 days without a break</div>
                <div class="card-body small">{{streak.summary}}</div>
            </div>

            <div class="card">
                <div class="card-title"><i class="fa fa-file-pen"></i> Assignment</div>
                <div class="list">
                    {{#assignments}}
                    <div class="list-item">
                        <div class="li-main">
                            <div class="li-title">{{name}}</div>
                            <div class="li-sub">{{course}}</div>
                        </div>
                        <div class="li-meta">{{due}}</div>
                        <a class="btn btn-outline" href="{{url}}">View</a>
                    </div>
                    {{/assignments}}
                    {{^assignments}}
                    <div class="empty">No assignments</div>
                    {{/assignments}}
                </div>
            </div>

            <div class="card">
                <div class="card-title"><i class="fa fa-circle-question"></i> Pending quizzes</div>
                <div class="list">
                    {{#quizzes}}
                    <div class="list-item">
                        <div class="li-main">
                            <div class="li-title">{{name}}</div>
                            <div class="li-sub">{{course}}</div>
                        </div>
                        <div class="li-meta">{{meta}}</div>
                        <a class="btn btn-outline" href="{{url}}">Start</a>
                    </div>
                    {{/quizzes}}
                    {{^quizzes}}
                    <div class="empty">No quizzes</div>
                    {{/quizzes}}
                </div>
            </div>
        </div>
    </div>
</div>

{{> theme_remui/common_end}}


