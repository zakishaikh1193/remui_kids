{{! Exact Student Dashboard - Same UI as shown in image }}

{{> theme_remui_kids/common_start}}

<style>
/* Inline CSS to ensure it loads */
.exact-student-dashboard {
    min-height: 100vh;
    background: #f8fafc;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    padding: 0;
    margin: 0;
}

.top-banner {
    background: #10b981;
    color: white;
    padding: 16px 24px;
    position: relative;
    margin-bottom: 24px;
}

.banner-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
    max-width: 1200px;
    margin: 0 auto;
}

.banner-text {
    font-size: 16px;
    font-weight: 500;
    line-height: 1.5;
}

.banner-close {
    background: none;
    border: none;
    color: white;
    font-size: 20px;
    cursor: pointer;
    padding: 4px 8px;
    border-radius: 4px;
    transition: background-color 0.2s;
}

.banner-close:hover {
    background: rgba(255, 255, 255, 0.1);
}

.dashboard-content {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 24px;
}

.dashboard-grid {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 24px;
}

.left-column, .right-column {
    display: flex;
    flex-direction: column;
    gap: 24px;
}

.performance-card, .upcoming-classes-card, .courses-card, .metrics-card, .activity-card, .streak-card, .assignment-card, .quizzes-card {
    background: white;
    border-radius: 16px;
    padding: 24px;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
}

.performance-card {
    text-align: center;
}

.performance-card .card-header h3 {
    font-size: 18px;
    font-weight: 600;
    color: #1f2937;
    margin: 0 0 8px 0;
}

.performance-card .card-header p {
    font-size: 14px;
    color: #6b7280;
    margin: 0 0 24px 0;
}

.circular-progress {
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 24px 0;
}

.progress-circle {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    background: conic-gradient(#10b981 0deg 288deg, #e5e7eb 288deg 360deg);
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    margin: 0 auto;
}

.progress-circle::before {
    content: '';
    width: 80px;
    height: 80px;
    background: white;
    border-radius: 50%;
    position: absolute;
}

.progress-text {
    text-align: center;
    z-index: 1;
}

.progress-text .percentage {
    display: block;
    font-size: 24px;
    font-weight: 700;
    color: #1f2937;
    line-height: 1;
}

.progress-text .label {
    display: block;
    font-size: 12px;
    font-weight: 600;
    color: #10b981;
    margin-top: 4px;
}

.upcoming-classes-card .card-header h3, .courses-card .card-header h3, .streak-card .card-header h3, .assignment-card .card-header h3 {
    font-size: 18px;
    font-weight: 600;
    color: #1f2937;
    margin: 0 0 20px 0;
}

.classes-list {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.class-item {
    display: flex;
    align-items: center;
    gap: 16px;
    padding: 16px;
    background: #f9fafb;
    border-radius: 12px;
    border: 1px solid #e5e7eb;
}

.instructor-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    overflow: hidden;
    flex-shrink: 0;
}

.instructor-avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.class-info {
    flex: 1;
}

.class-title {
    font-size: 16px;
    font-weight: 600;
    color: #1f2937;
    margin-bottom: 4px;
}

.class-meta {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 4px;
}

.course-tag {
    padding: 2px 8px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 500;
}

.course-tag.red {
    background: #fef2f2;
    color: #dc2626;
}

.course-tag.blue {
    background: #eff6ff;
    color: #2563eb;
}

.course-tag.green {
    background: #f0fdf4;
    color: #16a34a;
}

.class-number {
    font-size: 12px;
    color: #6b7280;
}

.class-time {
    font-size: 14px;
    color: #6b7280;
    margin-bottom: 4px;
}

.time-remaining {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 12px;
    font-weight: 500;
}

.time-remaining.red {
    color: #dc2626;
}

.time-remaining.blue {
    color: #2563eb;
}

.time-remaining .dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: currentColor;
}

.join-btn {
    background: #10b981;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 8px;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: background-color 0.2s;
}

.join-btn:hover {
    background: #059669;
}

.courses-table {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.table-header {
    display: grid;
    grid-template-columns: 2fr 1fr 1fr 1fr;
    gap: 16px;
    padding: 12px 0;
    font-size: 14px;
    font-weight: 600;
    color: #6b7280;
    border-bottom: 1px solid #e5e7eb;
}

.course-row {
    display: grid;
    grid-template-columns: 2fr 1fr 1fr 1fr;
    gap: 16px;
    padding: 16px 0;
    align-items: center;
    border-bottom: 1px solid #f3f4f6;
}

.col-name {
    display: flex;
    align-items: center;
    gap: 12px;
}

.course-icon {
    width: 32px;
    height: 32px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
    font-weight: 600;
    color: white;
}

.course-icon.orange {
    background: #f97316;
}

.course-icon.blue {
    background: #3b82f6;
}

.course-details {
    flex: 1;
}

.course-name {
    font-size: 14px;
    font-weight: 600;
    color: #1f2937;
    margin-bottom: 2px;
}

.course-meta {
    font-size: 12px;
    color: #6b7280;
}

.col-progress {
    display: flex;
    align-items: center;
}

.progress-bar {
    width: 100%;
    height: 8px;
    background: #e5e7eb;
    border-radius: 4px;
    overflow: hidden;
}

.progress-fill {
    height: 100%;
    border-radius: 4px;
    transition: width 0.3s ease;
}

.progress-fill.orange {
    background: #f97316;
}

.progress-fill.green {
    background: #10b981;
}

.col-score {
    font-size: 14px;
    font-weight: 600;
    color: #1f2937;
}

.status-badge {
    padding: 4px 12px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 600;
    text-transform: uppercase;
}

.status-badge.inprogress {
    background: #fef3c7;
    color: #d97706;
}

.status-badge.completed {
    background: #d1fae5;
    color: #059669;
}

.metrics-card, .activity-card {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.metric-item, .activity-item {
    display: flex;
    align-items: center;
    gap: 16px;
}

.metric-icon, .activity-icon {
    width: 48px;
    height: 48px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    color: white;
}

.metric-icon.green, .activity-icon.green {
    background: #10b981;
}

.metric-icon.blue, .activity-icon.blue {
    background: #3b82f6;
}

.metric-icon.pink {
    background: #ec4899;
}

.activity-icon.orange {
    background: #f97316;
}

.activity-icon.purple {
    background: #8b5cf6;
}

.metric-content, .activity-content {
    flex: 1;
}

.metric-value, .activity-value {
    font-size: 24px;
    font-weight: 700;
    color: #1f2937;
    line-height: 1;
}

.metric-label, .activity-label {
    font-size: 14px;
    color: #6b7280;
    margin-top: 4px;
}

.metric-subtitle {
    font-size: 12px;
    color: #9ca3af;
    margin-top: 2px;
}

.streak-card .card-header p {
    font-size: 14px;
    color: #6b7280;
    margin: 0 0 20px 0;
}

.streak-visual {
    display: flex;
    gap: 8px;
    margin-bottom: 16px;
}

.streak-day {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 4px;
    padding: 8px;
    border-radius: 8px;
    min-width: 40px;
}

.streak-day.active {
    background: #fef3c7;
}

.streak-day.inactive {
    background: #f3f4f6;
}

.streak-day i {
    font-size: 16px;
    color: #f97316;
}

.streak-day.inactive i {
    color: #9ca3af;
}

.streak-day span {
    font-size: 12px;
    font-weight: 500;
    color: #6b7280;
}

.streak-summary {
    font-size: 14px;
    color: #6b7280;
    line-height: 1.5;
}

.assignment-item {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: 16px;
    padding: 16px;
    background: #f9fafb;
    border-radius: 12px;
    border: 1px solid #e5e7eb;
}

.assignment-info {
    flex: 1;
}

.assignment-name {
    font-size: 16px;
    font-weight: 600;
    color: #1f2937;
    margin-bottom: 8px;
}

.assignment-meta {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 8px;
}

.assignment-number {
    font-size: 12px;
    color: #6b7280;
}

.assignment-due {
    font-size: 14px;
    font-weight: 500;
}

.assignment-due.red {
    color: #dc2626;
}

.assignment-actions {
    display: flex;
    gap: 8px;
}

.view-btn {
    background: #f3f4f6;
    color: #6b7280;
    border: none;
    padding: 8px 12px;
    border-radius: 8px;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
}

.upload-btn {
    background: #10b981;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 8px;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
}

.quizzes-card .card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
}

.quizzes-card .card-header h3 {
    font-size: 18px;
    font-weight: 600;
    color: #1f2937;
    margin: 0;
}

.see-all-btn {
    background: none;
    border: none;
    color: #3b82f6;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
}

.quizzes-list {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.quiz-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px;
    background: #f9fafb;
    border-radius: 8px;
    border: 1px solid #e5e7eb;
}

.quiz-icon {
    width: 32px;
    height: 32px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
    color: white;
}

.quiz-icon.purple {
    background: #8b5cf6;
}

.quiz-info {
    flex: 1;
}

.quiz-name {
    font-size: 14px;
    font-weight: 600;
    color: #1f2937;
    margin-bottom: 2px;
}

.quiz-meta {
    font-size: 12px;
    color: #6b7280;
}

.start-btn {
    background: #10b981;
    color: white;
    border: none;
    padding: 6px 12px;
    border-radius: 6px;
    font-size: 12px;
    font-weight: 500;
    cursor: pointer;
}

.no-classes, .no-courses, .no-assignments, .no-quizzes {
    text-align: center;
    padding: 40px 20px;
    color: #9ca3af;
    font-size: 14px;
}

@media (max-width: 1024px) {
    .dashboard-grid {
        grid-template-columns: 1fr;
    }
    
    .right-column {
        order: -1;
    }
}

@media (max-width: 768px) {
    .dashboard-content {
        padding: 0 16px;
    }
    
    .top-banner {
        padding: 12px 16px;
    }
    
    .banner-text {
        font-size: 14px;
    }
    
    .performance-card, .upcoming-classes-card, .courses-card, .metrics-card, .activity-card, .streak-card, .assignment-card, .quizzes-card {
        padding: 20px;
    }
    
    .table-header, .course-row {
        grid-template-columns: 1fr;
        gap: 8px;
    }
    
    .table-header {
        display: none;
    }
    
    .course-row {
        padding: 12px;
        background: #f9fafb;
        border-radius: 8px;
    }
}
</style>

<div class="exact-student-dashboard">
    <!-- Top Banner -->
    <div class="top-banner">
        <div class="banner-content">
            <div class="banner-text">
                Great effort so far {{student.firstname}} ! Keep up the hard work, and with a bit more focus on your attendance, you're sure to reach your full potential!
            </div>
            <button class="banner-close" onclick="this.parentElement.parentElement.style.display='none'">×</button>
        </div>
    </div>

    <!-- Main Content -->
    <div class="dashboard-content">
        <div class="dashboard-grid">
            <!-- Left Column -->
            <div class="left-column">
                <!-- Overall Performance Card -->
                <div class="performance-card">
                    <div class="card-header">
                        <h3>Overall performance</h3>
                        <p>Course completion rate</p>
                    </div>
                    <div class="circular-progress">
                        <div class="progress-circle">
                            <div class="progress-text">
                                <span class="percentage">{{overall.percent}}%</span>
                                <span class="label">PRO LEARNER</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Upcoming Classes Card -->
                <div class="upcoming-classes-card">
                    <div class="card-header">
                        <h3>Upcoming classes</h3>
                    </div>
                    <div class="classes-list">
                        {{#upcoming_classes}}
                        <div class="class-item">
                            <div class="instructor-avatar">
                                <img src="{{instructor_avatar}}" alt="{{instructor_name}}" onerror="this.style.display='none'">
                            </div>
                            <div class="class-info">
                                <div class="class-title">{{title}}</div>
                                <div class="class-meta">
                                    <span class="course-tag {{course_color}}">{{course_name}}</span>
                                    <span class="class-number">{{class_number}}</span>
                                </div>
                                <div class="class-time">{{date_time}}</div>
                                <div class="time-remaining {{urgency_color}}">
                                    <span class="dot"></span>
                                    {{time_remaining}}
                                </div>
                            </div>
                            <div class="class-actions">
                                <button class="join-btn">► Join</button>
                            </div>
                        </div>
                        {{/upcoming_classes}}
                        {{^upcoming_classes}}
                        <div class="no-classes">No upcoming classes</div>
                        {{/upcoming_classes}}
                    </div>
                </div>

                <!-- Total Courses Card -->
                <div class="courses-card">
                    <div class="card-header">
                        <h3>Total courses ({{overview_counts.total_courses}})</h3>
                    </div>
                    <div class="courses-table">
                        <div class="table-header">
                            <div class="col-name">Course name</div>
                            <div class="col-progress">Progress</div>
                            <div class="col-score">Overall score</div>
                            <div class="col-status">Status</div>
                        </div>
                        {{#courses}}
                        <div class="course-row">
                            <div class="col-name">
                                <div class="course-icon {{course_icon_color}}">{{course_icon}}</div>
                                <div class="course-details">
                                    <div class="course-name">{{name}}</div>
                                    <div class="course-meta">{{chapters}} chapter • {{lectures}} lecture</div>
                                </div>
                            </div>
                            <div class="col-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill {{progress_color}}" style="width: {{progress}}%"></div>
                                </div>
                            </div>
                            <div class="col-score">{{overall_score}}%</div>
                            <div class="col-status">
                                <span class="status-badge {{status_class}}">{{status_label}}</span>
                            </div>
                        </div>
                        {{/courses}}
                        {{^courses}}
                        <div class="no-courses">No courses found</div>
                        {{/courses}}
                    </div>
                </div>
            </div>

            <!-- Right Column -->
            <div class="right-column">
                <!-- Key Metrics Card -->
                <div class="metrics-card">
                    <div class="metric-item">
                        <div class="metric-icon green">
                            <i class="fa fa-graduation-cap"></i>
                        </div>
                        <div class="metric-content">
                            <div class="metric-value">{{overview_counts.total_courses}}</div>
                            <div class="metric-label">Total enroll courses</div>
                        </div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-icon blue">
                            <i class="fa fa-bullseye"></i>
                        </div>
                        <div class="metric-content">
                            <div class="metric-value">{{overview_counts.completed_courses}}</div>
                            <div class="metric-label">Course completed</div>
                        </div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-icon pink">
                            <i class="fa fa-hourglass-half"></i>
                        </div>
                        <div class="metric-content">
                            <div class="metric-value">{{overview_counts.hours_spent}}</div>
                            <div class="metric-label">Hours spent</div>
                            <div class="metric-subtitle">Total hours spent in courses</div>
                        </div>
                    </div>
                </div>

                <!-- Activity Metrics Card -->
                <div class="activity-card">
                    <div class="activity-item">
                        <div class="activity-icon orange">
                            <i class="fa fa-broadcast-tower"></i>
                        </div>
                        <div class="activity-content">
                            <div class="activity-value">{{engagement.live_classes_percent}}%</div>
                            <div class="activity-label">Live class attended</div>
                        </div>
                    </div>
                    <div class="activity-item">
                        <div class="activity-icon purple">
                            <i class="fa fa-question-circle"></i>
                        </div>
                        <div class="activity-content">
                            <div class="activity-value">{{engagement.quiz_attempts}}/{{engagement.total_quizzes}}</div>
                            <div class="activity-label">Quiz practised</div>
                        </div>
                    </div>
                    <div class="activity-item">
                        <div class="activity-icon blue">
                            <i class="fa fa-file-alt"></i>
                        </div>
                        <div class="activity-content">
                            <div class="activity-value">{{engagement.assignments_done}}/{{engagement.total_assignments}}</div>
                            <div class="activity-label">Assignment done</div>
                        </div>
                    </div>
                </div>

                <!-- Streak Card -->
                <div class="streak-card">
                    <div class="card-header">
                        <h3>{{streak.days}} days without a break</h3>
                        <p>The record is {{streak.record}} days without a break</p>
                    </div>
                    <div class="streak-visual">
                        {{#streak.days_list}}
                        <div class="streak-day {{status}}">
                            <i class="fa fa-fire"></i>
                            <span>{{day}}</span>
                        </div>
                        {{/streak.days_list}}
                    </div>
                    <div class="streak-summary">
                        <p>• {{streak.classes_covered}} classes covered • {{streak.assignments_completed}} assignment completed</p>
                    </div>
                </div>

                <!-- Assignment Card -->
                <div class="assignment-card">
                    <div class="card-header">
                        <h3>Assignment</h3>
                    </div>
                    {{#assignments}}
                    <div class="assignment-item">
                        <div class="assignment-info">
                            <div class="assignment-name">{{name}}</div>
                            <div class="assignment-meta">
                                <span class="course-tag {{course_color}}">{{course_name}}</span>
                                <span class="assignment-number">{{assignment_number}}</span>
                            </div>
                            <div class="assignment-due {{urgency_color}}">
                                • Submit before : {{due_date}}
                            </div>
                        </div>
                        <div class="assignment-actions">
                            <button class="view-btn">View ></button>
                            <button class="upload-btn">Upload</button>
                        </div>
                    </div>
                    {{/assignments}}
                    {{^assignments}}
                    <div class="no-assignments">No assignments</div>
                    {{/assignments}}
                </div>

                <!-- Pending Quizzes Card -->
                <div class="quizzes-card">
                    <div class="card-header">
                        <h3>Pending quizes</h3>
                        <button class="see-all-btn">See all</button>
                    </div>
                    <div class="quizzes-list">
                        {{#quizzes}}
                        <div class="quiz-item">
                            <div class="quiz-icon purple">
                                <i class="fa fa-question"></i>
                            </div>
                            <div class="quiz-info">
                                <div class="quiz-name">{{name}}</div>
                                <div class="quiz-meta">{{questions}} question • {{duration}} min</div>
                            </div>
                            <button class="start-btn">Start ></button>
                        </div>
                        {{/quizzes}}
                        {{^quizzes}}
                        <div class="no-quizzes">No pending quizzes</div>
                        {{/quizzes}}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{{> theme_remui_kids/common_end}}
